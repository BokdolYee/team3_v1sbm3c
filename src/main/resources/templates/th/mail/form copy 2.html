<!DOCTYPE html>
<html layout:decorate="~{th/layout}">
<div layout:fragment="content" style="width: 80%; margin: 50px auto;">
  <script>
    function send(form) {
      // 라디오 버튼 체크 확인
      let radios = document.getElementsByName('findType');
      let isChecked = false;
      for(let radio of radios) {
        if(radio.checked) {
          isChecked = true;
          break;
        }
      }
      
      if(!isChecked) {
        alert('찾기 방법을 선택해주세요.');
        return;
      }

      // 입력값 확인
      let input = document.querySelector('input[type="text"]');
      if(!input.value.trim()) {
        alert('값을 입력해주세요.');
        input.focus();
        return;
      }

      let panel = document.getElementById('panel');
      panel.innerHTML = "메일 전송 중...";

      form.submit();
    }
  </script>

  <div style='width: 60%; margin: 0px auto;'>
    <div class='title_line'>계정정보 찾기</div>
    
    <div style="margin: 20px 0; border-bottom: 1px solid #ddd;">
      <span style="color: #0066cc; border-bottom: 2px solid #0066cc; padding: 10px 20px; display: inline-block;">아이디(이메일)찾기</span>
      <span style="padding: 10px 20px; display: inline-block;">비밀번호 찾기</span>
    </div>

    <form name='frm' method='post' action="/mail/send" style="margin-top: 30px;">
      <div style="margin-bottom: 20px;">
        <div style="text-align: left; margin-bottom: 10px;">
          <label>
            <input type="radio" name="findType" value="phone">
            본인 휴대 폰으로 찾기
          </label>
          <label style="margin-left: 20px;">
            <input type="radio" name="findType" value="email" checked>
            등록된 휴대폰 번호로 찾기
          </label>
        </div>
        
        <table style="width: 100%; background-color: #f8f9fa;">
          <tr>
            <td style="width: 30%; padding: 15px; text-align: left; background-color: #f1f3f5;">이름</td>
            <td style="padding: 10px; text-align: left;">
              <input type="text" name="name" style="width: 200px; padding: 5px;">
            </td>
          </tr>
          <tr>
            <td style="width: 30%; padding: 15px; text-align: left; background-color: #f1f3f5;">등록된 휴대폰 번호</td>
            <td style="padding: 10px; text-align: left;">
              <input type="text" name="phone" style="width: 200px; padding: 5px;">
              <button type="button" style="padding: 5px 10px; background-color: #0066cc; color: white; border: none; margin-left: 10px;">인증번호 전송</button>
            </td>
          </tr>
        </table>
      </div>

      <div class="bottom_menu" style="text-align: center; margin-top: 20px;">
        <button type="button" onclick="send(this.form)" 
                style="padding: 8px 20px; background-color: #0066cc; color: white; border: none; margin-right: 10px;">확인</button>
        <button type="button" onclick="history.back()"
                style="padding: 8px 20px; background-color: #6c757d; color: white; border: none;">취소</button>
      </div>
    </form>
  </div>
</div>
</html>